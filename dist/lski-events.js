/*! lski-events - 1.0.0 */
!function(e,t){"use strict";"function"==typeof define&&define.amd?define([],function(){return(e.lski=e.lski||{}).events=t()}):"object"==typeof module&&module.exports?module.exports=t():(e.lski=e.lski||{}).events=t()}(this,function(){"use strict";function e(){return 3===arguments.length||4===arguments.length&&null==arguments[2]?t(arguments[0],arguments[1],4===arguments.length?arguments[3]:arguments[2]):4===arguments.length?n.apply(this,arguments):void 0}function t(e,t,n){var r=a(t);return l(e,function(e){for(var t=function(t){t.delegateTarget=t.currentTarget,n.apply(e,arguments)},i=0,o=r.length;o>i;i++)p.add(e,r[i],n,t),e.addEventListener(r[i],t,!1);return e})}function n(e,t,n,r){var i=a(t);return l(e,function(e){for(var t=function(t){t.delegateTarget=t.currentTarget;var i=t.target||t.srcElement,o=f(e,i,n);o&&r.apply(o,arguments)},o=0,u=i.length;u>o;o++)p.add(e,i[o],r,t),e.addEventListener(i[o],t,!1)})}function r(e,t,n){var r=a(t);return l(e,function(e){for(var i=function(){n.apply(this,arguments),c.off(e,t,i)},o=0;o<r.length;o++)p.add(e,r[o],n,i),e.addEventListener(r[o],i,!1)})}function i(e,t,n){var r=a(t);return l(e,function(e){for(var t=0;t<r.length;t++){var i=p.find(e,r[t],n);i?(e.removeEventListener(r[t],i.wrapper,!1),p.remove(i)):e.removeEventListener(r[t],n,!1)}})}function o(e,t){var n="string"!=typeof t?[t]:a(t,function(e){return s(e)});return l(e,function(e){for(var t=0;t<n.length;t++)e.dispatchEvent(n[t])})}function u(e,t){return(t||document).querySelectorAll(e)}function a(e,t){for(var n="string"==typeof e?e.split(" "):e,r="function"==typeof t,i=[],o=0,u=n.length;u>o;o++){var a=n[o];"string"==typeof a&&(a=a.trim()),a&&(r&&(a=t(a,o,n)),a&&i.push(a))}return i}function l(e,t){var n="string"==typeof e?u(e):e.length?e:[e],r="function"==typeof t;if(r)for(var i=0,o=n.length;o>i;i++)t(n[i],i);return n}function f(e,t,n){if(e==t)return null;var r=v(t,n);return r?t:t.parentElement?f(e,t.parentElement,n):null}var c={add:e,on:e,once:r,one:r,remove:i,off:i,fire:o,trigger:o,query:u},s=function(){if("function"==typeof window.CustomEvent)return function(t,n){return new e(t,n)};if(document.createEvent){var e=function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};return e.prototype=window.Event.prototype,function(t,n){return new e(t,n)}}return function(e,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var n=document.createEvent("Event");return n.initEvent(name,t.bubbles,t.cancelable),t.detail&&(n.detail=t.detail),n}}(),v=function(){var e=Element.prototype,t=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(e){for(var t=this,n=u(e,t.parentNode),r=n.length;--r>=0&&n.item(r)!==t;);return r>-1};return function(e,n){return t.call(e,n)}}(),p=function(){function e(){this._listeners=[]}function t(e,t,n,r){return this._listeners.push({element:e,eventName:t,wrapper:r,original:n})}function n(e){for(var t=0,n=this._listeners.length;n>t;t++)if(e===this._listeners[t])return this._listeners.splice(t,1),!0;return!1}function r(e,t,n){for(var r=0,i=this._listeners.length;i>r;r++){var o=this._listeners[r];if(o.element===e&&o.eventName===t&&o.original===n)return o}return null}return e.prototype.add=t,e.prototype.remove=n,e.prototype.find=r,new e}();return String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}),c});